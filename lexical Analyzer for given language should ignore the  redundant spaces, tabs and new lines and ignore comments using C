#include <stdio.h>

int main() {
    char ch, next;

    printf("Enter your code (press CTRL+D to end input):\n");

    while ((ch = getchar()) != EOF) {

        /* Ignore spaces, tabs, newlines */
        if (ch == ' ' || ch == '\t' || ch == '\n')
            continue;

        /* Check for comments */

        /* Single-line comment: // */
        if (ch == '/') {
            next = getchar();
            if (next == '/') {
                // Skip until newline or EOF
                while ((ch = getchar()) != '\n' && ch != EOF);
                continue;
            }

            /* Multi-line comment: /* ... * /  */
            if (next == '*') {
                while (1) {
                    ch = getchar();
                    if (ch == EOF) break;
                    if (ch == '*') {
                        next = getchar();
                        if (next == '/') break;   // End of comment
                    }
                }
                continue;
            }

            /* Not a comment â†’ print '/' and put back the next char */
            putchar('/');
            ungetc(next, stdin);
            continue;
        }

        /* Print all other meaningful characters */
        putchar(ch);
    }

    return 0;
}
